(this.webpackJsonproomfinder=this.webpackJsonproomfinder||[]).push([[0],{136:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(54),s=a.n(c),i=(a(68),a(0)),o=function(e){var t=e.children,a=e.hero;return Object(i.jsx)("header",{className:a,children:t})};o.defaultProps={hero:"defaultHero"};var l=o,j=function(e){var t=e.children,a=e.title,n=e.subtitle;return Object(i.jsxs)("div",{className:"banner",children:[Object(i.jsx)("h1",{children:a}),Object(i.jsx)("div",{}),Object(i.jsx)("p",{children:n}),t]})},m=a(4),b=a(12),h=a(13),d=a(15),u=a(14),p=a(10),O=function(e){var t=e.title;return Object(i.jsxs)("div",{className:"section-title",children:[Object(i.jsx)("h4",{children:t}),Object(i.jsx)("div",{})]})},x=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(b.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={services:[{icon:Object(i.jsx)(p.g,{}),title:"Tech Gaints Company",info:"There are many variations of passages of Lorem Ipsum available, but the majority have suffered alteration"},{icon:Object(i.jsx)(p.c,{}),title:"Tech Gaints and E-commerce Company",info:"There are many variations of passages of Lorem Ipsum available, but the majority have suffered alteration"},{icon:Object(i.jsx)(p.d,{}),title:"Most creative and innovative company",info:"There are many variations of passages of Lorem Ipsum available, but the majority have suffered alteration"},{icon:Object(i.jsx)(p.f,{}),title:"Tech Gaints and social Company",info:"There are many variations of passages of Lorem Ipsum available, but the majority have suffered alteration"},{icon:Object(i.jsx)(p.h,{}),title:"Tech Gaints Company",info:"There are many variations of passages of Lorem Ipsum available, but the majority have suffered alteration"},{icon:Object(i.jsx)(p.a,{}),title:"Tech and Graphics (GUI) Company",info:"There are many variations of passages of Lorem Ipsum available, but the majority have suffered alteration"},{icon:Object(i.jsx)(p.i,{}),title:"Social information Company",info:"There are many variations of passages of Lorem Ipsum available, but the majority have suffered alteration"},{icon:Object(i.jsx)(p.e,{}),title:"Tech Financial Company",info:"There are many variations of passages of Lorem Ipsum available, but the majority have suffered alteration"}]},e}return Object(h.a)(a,[{key:"render",value:function(){return Object(i.jsx)("div",{children:Object(i.jsxs)("section",{className:"services",children:[Object(i.jsx)(O,{title:"services"}),Object(i.jsx)("div",{className:"services-center",children:this.state.services.map((function(e,t){return Object(i.jsxs)("article",{className:"service",children:[Object(i.jsx)("span",{children:e.icon}),Object(i.jsx)("h5",{children:e.title}),Object(i.jsx)("p",{children:e.info})]},t)}))})]})})}}]),a}(n.Component),f=a(18),v=a(23),g=a(19),y=a.n(g),N=a(16),k=a(55),C=a(56),T=Object(C.createClient)({space:"f59a1f1bi6is",accessToken:"gMqTvw43b-8WzSWIZCezx0hSD205cF5TlolDqIlgQKM"});T.getEntries({content_type:"roomFinder"}).then((function(e){return console.log(e.items)}));var z=r.a.createContext(),F=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(b.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={rooms:[],sortedRooms:[],featuredRooms:[],loading:!0,type:"all",capacity:1,price:0,minPrice:0,maxPrice:0,minSize:0,maxSize:0,breakfast:!1,pets:!1},e.getData=Object(k.a)(y.a.mark((function t(){var a,n,r,c,s;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,T.getEntries({content_type:"roomFinder",order:"fields.price"});case 3:a=t.sent,n=e.formatData(a.items),r=n.filter((function(e){return!0===e.featured})),c=Math.max.apply(Math,Object(N.a)(n.map((function(e){return e.price})))),s=Math.max.apply(Math,Object(N.a)(n.map((function(e){return e.size})))),e.setState({rooms:n,featuredRooms:r,sortedRooms:n,loading:!1,price:c,maxPrice:c,maxSize:s}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])}))),e.getRoom=function(t){return Object(N.a)(e.state.rooms).find((function(e){return e.slug===t}))},e.handleChange=function(t){var a=t.target,n="checkbox"===a.type?a.checked:a.value,r=t.target.name;e.setState(Object(v.a)({},r,n),e.filterRooms)},e.filterRooms=function(){var t=e.state,a=t.rooms,n=t.type,r=t.capacity,c=t.price,s=t.minSize,i=t.maxSize,o=t.breakfast,l=t.pets,j=Object(N.a)(a);r=parseInt(r),c=parseInt(c),"all"!==n&&(j=j.filter((function(e){return e.type===n}))),1!==r&&(j=j.filter((function(e){return e.capacity>=r}))),j=(j=j.filter((function(e){return e.price<=c}))).filter((function(e){return e.size>=s&&e.size<=i})),o&&(j=j.filter((function(e){return!0===e.breakfast}))),l&&(j=j.filter((function(e){return!0===e.pets}))),e.setState({sortedRooms:j})},e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){this.getData()}},{key:"formatData",value:function(e){return e.map((function(e){var t=e.sys.id,a=e.fields.images.map((function(e){return e.fields.file.url}));return Object(f.a)(Object(f.a)({},e.fields),{},{images:a,id:t})}))}},{key:"render",value:function(){return Object(i.jsx)(z.Provider,{value:Object(f.a)(Object(f.a)({},this.state),{},{getRoom:this.getRoom,handleChange:this.handleChange}),children:this.props.children})}}]),a}(n.Component),S=z.Consumer;var R=a.p+"static/media/loading-arrow.dd29210f.gif",I=function(){return Object(i.jsxs)("div",{className:"loading",children:[Object(i.jsx)("h4",{children:"rooms data loading..."}),Object(i.jsx)("img",{src:R,alt:"preloader"})]})},w=a.p+"static/media/room-1.05b90599.jpeg";function L(e){var t=e.room,a=t.name,n=t.slug,r=t.images,c=t.price;return Object(i.jsxs)("article",{className:"room",children:[Object(i.jsxs)("div",{className:"img-container",children:[Object(i.jsx)("img",{src:r[0]||w,alt:"single room"}),Object(i.jsxs)("div",{className:"price-top",children:[Object(i.jsxs)("h6",{children:["$",c]}),Object(i.jsx)("p",{children:"per night"})]}),Object(i.jsx)(m.b,{to:"/rooms/".concat(n),className:"btn-primary room-link",children:"Features"})]}),Object(i.jsx)("div",{className:"room-info",children:a})]})}var M=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){return Object(b.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){var e=this.context,t=e.loading,a=e.featuredRooms;return a=a.map((function(e){return Object(i.jsx)(L,{room:e},e.id)})),Object(i.jsxs)("section",{className:"featured-rooms",children:[Object(i.jsx)(O,{title:"Featured rooms"}),Object(i.jsxs)("div",{className:"featured-rooms-center",children:[t?Object(i.jsx)(I,{}):a," "]})]})}}]),a}(n.Component);M.contextType=z;var G=function(){return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(l,{children:Object(i.jsx)(j,{title:"Luxurious rooms",subtitle:"  deluxe rooms starting at $299",children:Object(i.jsx)(m.b,{to:"/rooms",className:"btn-primary",children:"our rooms"})})}),Object(i.jsx)(x,{}),Object(i.jsx)(M,{})]})};function P(e){var t=e.rooms;return 0===t.length?Object(i.jsx)("div",{className:"empty-search",children:Object(i.jsx)("h3",{children:"unfortunately no rooms matched your search parameter"})}):Object(i.jsx)("section",{className:"roomslist",children:Object(i.jsx)("div",{className:"roomslist-center",children:t.map((function(e){return Object(i.jsx)(L,{room:e},e.id)}))})})}var D=function(e,t){return Object(N.a)(new Set(e.map((function(e){return e[t]}))))},H=function(e){var t=e.rooms,a=Object(n.useContext)(z),r=a.handleChange,c=a.type,s=a.capacity,o=a.price,l=a.minPrice,j=a.maxPrice,m=a.minSize,b=a.maxSize,h=a.breakfast,d=a.pets,u=D(t,"type");u=(u=["all"].concat(Object(N.a)(u))).map((function(e,t){return Object(i.jsx)("option",{value:e,children:e},t)}));var p=D(t,"capacity");return p=p.map((function(e,t){return Object(i.jsx)("option",{value:e,children:e},t)})),Object(i.jsxs)("section",{className:"filter-container",children:[Object(i.jsx)(O,{title:"search rooms"}),Object(i.jsxs)("form",{className:"filter-form",children:[Object(i.jsxs)("div",{className:"form-group",children:[Object(i.jsx)("label",{htmlFor:"type",children:"room type"}),Object(i.jsx)("select",{name:"type",id:"type",value:c,className:"form-control",onChange:r,children:u})]}),Object(i.jsxs)("div",{className:"form-group",children:[Object(i.jsx)("label",{htmlFor:"capacity",children:"Guest"}),Object(i.jsx)("select",{name:"capacity",id:"capacity",value:s,className:"form-control",onChange:r,children:p})]}),Object(i.jsxs)("div",{className:"form-group",children:[Object(i.jsxs)("label",{htmlFor:"price",children:["room price $",o]}),Object(i.jsx)("input",{className:"form-control",type:"range",name:"price",min:l,max:j,id:"price",value:o,onChange:r})]}),Object(i.jsxs)("div",{className:"form-group",children:[Object(i.jsx)("label",{htmlFor:"size",children:"room size"}),Object(i.jsxs)("div",{className:"size-inputs",children:[Object(i.jsx)("input",{type:"number",name:"minSize",id:"size",value:m,onChange:r,className:"size-input"}),Object(i.jsx)("input",{type:"number",name:"maxSize",id:"size",value:b,onChange:r,className:"size-input"})]})]}),Object(i.jsxs)("div",{className:"form-group",children:[Object(i.jsxs)("div",{className:"single-extra",children:[Object(i.jsx)("input",{type:"checkbox",name:"breakfast",id:"breakfast",checked:h,onChange:r}),Object(i.jsx)("label",{htmlFor:"breakfast",children:"breakfast"})]}),Object(i.jsxs)("div",{className:"single-extra",children:[Object(i.jsx)("input",{type:"checkbox",name:"pets",id:"pets",checked:d,onChange:r}),Object(i.jsx)("label",{htmlFor:"pets",children:"pets"})]})]})]})]})};var $,B,E=($=function(e){var t=e.context,a=t.loading,n=t.sortedRooms,r=t.rooms;return a?Object(i.jsx)(I,{}):Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(H,{rooms:r})," ",Object(i.jsx)(P,{rooms:n})," "]})},function(e){return Object(i.jsx)(S,{children:function(t){return Object(i.jsx)($,Object(f.a)(Object(f.a)({},e),{},{context:t}))}})}),A=function(){return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(l,{hero:"roomsHero",children:Object(i.jsx)(j,{title:"our rooms",children:Object(i.jsx)(m.b,{to:"/",className:"btn-primary",children:"Return Home"})})}),Object(i.jsx)(E,{})]})},q=a(63),J=a(58),Q=a(59).a.header(B||(B=Object(J.a)(['\n  /* render HTML "header" */\n  min-height: 60vh;\n  background: url(',")\n    center/cover no-repeat;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"])),(function(e){return e.img?e.img:w})),W=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(b.a)(this,a),(n=t.call(this,e)).state={slug:n.props.match.params.slug,defaultBcg:w},n}return Object(h.a)(a,[{key:"render",value:function(){var e=(0,this.context.getRoom)(this.state.slug);if(!e)return Object(i.jsxs)("div",{className:"error",children:[Object(i.jsx)("h3",{children:"no such room could be found.... "}),Object(i.jsx)(m.b,{to:"/rooms",className:"btn-primary",children:"back to rooms"})]});var t=e.name,a=e.description,n=e.capacity,r=e.size,c=e.price,s=e.extras,o=e.breakfast,l=e.pets,b=e.images,h=Object(q.a)(b),d=(h[0],h.slice(1));return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(Q,{img:b[0]||this.state.defaultBcg,children:Object(i.jsx)(j,{title:"".concat(t," room"),children:Object(i.jsx)(m.b,{to:"/rooms",className:"btn-primary",children:"back to rooms"})})}),Object(i.jsxs)("section",{className:"single-room",children:[Object(i.jsx)("div",{className:"single-room-images",children:d.map((function(e,a){return Object(i.jsx)("img",{src:e,alt:t},a)}))}),Object(i.jsxs)("div",{className:"single-room-info",children:[Object(i.jsxs)("article",{className:"desc",children:[Object(i.jsx)("h3",{children:"details"}),Object(i.jsx)("p",{children:a})]}),Object(i.jsxs)("article",{className:"info",children:[Object(i.jsx)("h3",{children:"info."}),Object(i.jsxs)("h6",{children:["price: $",c]}),Object(i.jsxs)("h6",{children:["size: $",r," SQFT"]}),Object(i.jsxs)("h6",{children:["max capacity:"," ","".concat(n,n>1?" people":" person ")]}),Object(i.jsx)("h6",{children:l?"pets allowed":"no pets allowed"}),Object(i.jsx)("h6",{children:o&&"free breakfast included"})]})]})]}),Object(i.jsxs)("section",{className:"room-extras",children:[Object(i.jsx)("h6",{children:"extras"}),Object(i.jsx)("ul",{className:"extras",children:s.map((function(e,t){return Object(i.jsxs)("li",{children:[" - ",e," "]},t)}))})]})]})}}]),a}(n.Component);W.contextType=z;var _=function(){return Object(i.jsx)(l,{children:Object(i.jsx)(j,{title:"404-page",subtitle:"page is not found",children:Object(i.jsx)(m.b,{to:"/",className:"btn-primary",children:"Home page"})})})},K=a(2),U=a.p+"static/media/logo.87947b58.svg",Z=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(b.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={isOpen:!1},e.handleToggle=function(){e.setState({isOpen:!e.state.isOpen})},e}return Object(h.a)(a,[{key:"render",value:function(){return Object(i.jsx)("nav",{className:"navbar",children:Object(i.jsxs)("div",{className:"nav-center",children:[Object(i.jsxs)("div",{className:"nav-header",children:[Object(i.jsx)(m.b,{to:"/",children:Object(i.jsx)("img",{src:U,alt:"Beach Reasort",title:"Go To Home Page"})}),Object(i.jsx)("button",{type:"button",className:"nav-btn",onClick:this.handleToggle,children:Object(i.jsx)(p.b,{className:"nav-icon"})})]}),Object(i.jsxs)("ul",{className:this.state.isOpen?"nav-links show-nav":"nav-links",children:[Object(i.jsx)("li",{children:Object(i.jsx)(m.b,{to:"/",children:"Home"})}),Object(i.jsx)("li",{children:Object(i.jsx)(m.b,{to:"/rooms",children:"Rooms"})})]})]})})}}]),a}(n.Component);var V=function(){return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(Z,{}),Object(i.jsxs)(K.c,{children:[Object(i.jsx)(K.a,{exact:!0,path:"/",component:G}),Object(i.jsx)(K.a,{exact:!0,path:"/rooms",component:A}),Object(i.jsx)(K.a,{exact:!0,path:"/rooms/:slug",component:W}),Object(i.jsx)(K.a,{component:_})]})]})};s.a.render(Object(i.jsx)(F,{children:Object(i.jsx)(m.a,{children:Object(i.jsx)(V,{})})}),document.getElementById("root"))},33:function(e,t){},68:function(e,t,a){},98:function(e,t){}},[[136,1,2]]]);
//# sourceMappingURL=main.dd4e4a1c.chunk.js.map